{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Change Password</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/png" href="/static/favicon.png">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
        href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Public+Sans%3Awght%40400%3B500%3B700%3B900">

  <style>
    :root{
      --bg:#fff; --muted:#617589; --text:#111418; --border:#dbe0e6; --surface:#f0f2f4;
      --accent:#111418; --radius:12px; --pad-x:40px; --max-w:720px;
      font-family:"Public Sans","Noto Sans",system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}

    .site-header{display:flex;align-items:center;justify-content:space-between;padding:12px var(--pad-x);border-bottom:1px solid var(--border)}
    .brand h1{font-size:18px;margin:0;font-weight:700}
    .btn-ghost{background:var(--surface);padding:8px 14px;border-radius:10px;font-weight:700}

    .page-wrap{padding:20px var(--pad-x);display:flex;justify-content:center}
    .container{max-width:var(--max-w);width:100%}
    .page-title{margin-bottom:16px}
    .page-title h2{font-size:26px;margin:0;font-weight:700}

    .msg{margin:8px 0;padding:10px 12px;border-radius:8px;border:1px solid transparent}
    .msg-success{color:#14532d;background:#ecfdf5;border-color:#bbf7d0}
    .msg-error{color:#7f1d1d;background:#fff1f2;border-color:#fecaca}

    .card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:18px}
    label{display:block;margin:8px 0 6px 0;color:var(--muted);font-weight:600}
    input[type="password"]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);font-size:14px}
    .errorsmall{color:#b91c1c;font-size:13px;margin-top:6px}

    .actions{display:flex;gap:12px;align-items:center;margin-top:14px}
    .btn-primary{background:var(--accent);color:#fff;padding:10px 16px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
    .btn-secondary{background:transparent;border:1px solid var(--border);padding:9px 14px;border-radius:10px}

    @media (max-width:780px){
      .page-wrap{padding:12px}
    }
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="brand">
      <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z" fill="currentColor"/></svg>
      <h1>Hostel Portal</h1>
    </div>
    <div>
      <a class="btn-ghost" href="{% url 'profile_view' %}">Back to profile</a>
    </div>
  </header>

  <div class="page-wrap">
    <main class="container">
      <div class="page-title"><h2>Change Password</h2></div>

      {% if messages %}
        {% for msg in messages %}
          <p class="{% if msg.tags == 'error' %}msg msg-error{% else %}msg msg-success{% endif %}">{{ msg }}</p>
        {% endfor %}
      {% endif %}

      <form method="post" class="card" novalidate>
        {% csrf_token %}

        <div>
          <label for="id_old">Old password</label>
          <input id="id_old" type="password" name="old_password" autocomplete="current-password">
          {% if errors.old_password %}<div class="errorsmall">{{ errors.old_password }}</div>{% endif %}
        </div>

        <div style="margin-top:12px">
          <label for="id_new1">New password</label>
          <input id="id_new1" type="password" name="new_password1" autocomplete="new-password">
        </div>

        <div style="margin-top:12px">
          <label for="id_new2">Confirm new password</label>
          <input id="id_new2" type="password" name="new_password2" autocomplete="new-password">
          {% if errors.new_password %}<div class="errorsmall">{{ errors.new_password }}</div>{% endif %}
        </div>

        <div class="actions">
          <button class="btn-primary" type="submit">Change password</button>
          <a class="btn-secondary" href="{% url 'profile_view' %}">Back</a>
        </div>
      </form>
    </main>
  </div>
</body>
</html>
